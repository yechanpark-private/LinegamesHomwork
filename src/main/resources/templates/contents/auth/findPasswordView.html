<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
    <!-- Site Properties -->
    <title>Bootstrap 4 Register Form</title>
</head>
<body>
<div layout:fragment="content">
    <div class="container">
        <div class="kpx_login p-5 my-5">
            <div class="row kpx_row-sm-offset-3">
                <div class="col-xs-12 col-sm-6">
                    <form class="kpx_loginForm" th:action="@{/user/findPassword}" autocomplete="off" method="POST">
                        <div class="input-group">
                            <span class="input-group-addon"><span class="fa fa-user"></span></span>
                            <input id="usernameInput" type="text" class="form-control" name="username"
                                   placeholder="Username">
                        </div>

                        <hr/>

                        <div class="input-group">
                            <span class="input-group-addon"><span class="fa fa-user"></span></span>
                            <input id="passwordInput" type="text" class="form-control" name="password"
                                   placeholder="Password">
                        </div>

                        <span class="tag tag-danger">Password Error!</span> | <span class="tag tag-success">Login success!</span>
                        | <span class="tag tag-warning">Some of password must not be empty!</span>
                        <hr/>
                        <a id="findButton" class="btn btn-lg btn-outline-primary btn-block"><i
                                class="fa fa-sign-in"></i>Find</a>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            $("#findButton").click(function(){
                let passwordInput = $('#usernameInput').val();

                $.ajax({
                    url: '/client/user/rest/' + passwordInput,
                    type: 'get',
                    success: function(result) {
                        alert('존재하는 계정입니다. 변경할 비밀번호를 입력해주세요.');
                    },
                    fail: function(result) {
                        alert('')
                    }
                });
            });
        });
    </script>
</div>
</body>
</html>